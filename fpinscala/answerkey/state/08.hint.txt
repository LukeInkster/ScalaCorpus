The implementation using `flatMap` will be almost identical to the failed one where we tried to use `map`.